<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Goofy Mania V2</title>
        <link id="skin-style" rel="stylesheet">
        <link rel="stylesheet" href="./main.css">
        <script src="./main.js"></script>
        <script src="./Game.js"></script>
    </head>
    <body>
        <div id="game-container"></div>
        <button style="display: flex; justify-content: center; align-items: center; width: 100%; height: 100%;" onclick="doThing(this)">CLICK ME</button>
        <script>
            async function doThing(e) {
                e.remove();
                const settings = {
                    scrollSpeed: 17,
                    keybinds: {
                        "4-keys": ["d","f","j","k"],
                        "7-keys": ["s","d","f"," ","j","k","l"]
                    }
                }
                loadSkin("/skins/default");
                // for testing
                const mapPath = "./maps/3";
                const levelIndex = 0;
                const map = await getMap(mapPath);
                const level = await getLevel(mapPath, map.levels[levelIndex]);

                const game = new Game(document.getElementById("game-container"), map, level, settings);
                game.init();
                game.start();
            }
        </script>
    </body>
</html>